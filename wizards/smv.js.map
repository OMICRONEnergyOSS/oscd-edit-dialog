{"version":3,"file":"smv.js","sources":["../../../wizards/smv.ts"],"sourcesContent":["import { EditV2 } from '@omicronenergy/oscd-api';\n\nimport { SclCheckbox } from '@openenergytools/scl-checkbox';\n\nimport {\n  getValue,\n  Wizard,\n  WizardActor,\n  WizardInputElement,\n} from '../foundation.js';\n\nimport { contentAddress, updateAddress } from './address.js';\n\nfunction updateAction(element: Element): WizardActor {\n  return (inputs: WizardInputElement[], wizard: Element): EditV2[] => {\n    const action: EditV2 = [];\n\n    const instType: boolean =\n      (wizard.querySelector('#instType') as SclCheckbox).value === 'true';\n\n    const addressContent: Record<string, string | null> = {};\n    addressContent['MAC-Address'] = getValue(\n      inputs.find(i => i.label === 'MAC-Address')!,\n    );\n    addressContent.APPID = getValue(inputs.find(i => i.label === 'APPID')!);\n    addressContent['VLAN-ID'] = getValue(\n      inputs.find(i => i.label === 'VLAN-ID')!,\n    );\n    addressContent['VLAN-PRIORITY'] = getValue(\n      inputs.find(i => i.label === 'VLAN-PRIORITY')!,\n    );\n\n    const addressActions = updateAddress(element, addressContent, instType);\n    if (!addressActions.length) {\n      return [];\n    }\n\n    addressActions.forEach(addressAction => {\n      action.push(addressAction);\n    });\n\n    return [action];\n  };\n}\n\nexport function editSMvWizard(element: Element): Wizard {\n  const types = ['MAC-Address', 'APPID', 'VLAN-ID', 'VLAN-PRIORITY'];\n\n  return {\n    title: 'Edit SMV',\n    primary: {\n      label: 'save',\n      icon: 'edit',\n      action: updateAction(element),\n    },\n    content: [...contentAddress({ element, types })],\n  };\n}\n"],"names":[],"mappings":";;;AAaA,SAAS,YAAY,CAAC,OAAgB,EAAA;AACpC,IAAA,OAAO,CAAC,MAA4B,EAAE,MAAe,KAAc;QACjE,MAAM,MAAM,GAAW,EAAE;AAEzB,QAAA,MAAM,QAAQ,GACX,MAAM,CAAC,aAAa,CAAC,WAAW,CAAiB,CAAC,KAAK,KAAK,MAAM;QAErE,MAAM,cAAc,GAAkC,EAAE;QACxD,cAAc,CAAC,aAAa,CAAC,GAAG,QAAQ,CACtC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,aAAa,CAAE,CAC7C;QACD,cAAc,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,OAAO,CAAE,CAAC;QACvE,cAAc,CAAC,SAAS,CAAC,GAAG,QAAQ,CAClC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS,CAAE,CACzC;QACD,cAAc,CAAC,eAAe,CAAC,GAAG,QAAQ,CACxC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,eAAe,CAAE,CAC/C;QAED,MAAM,cAAc,GAAG,aAAa,CAAC,OAAO,EAAE,cAAc,EAAE,QAAQ,CAAC;AACvE,QAAA,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;AAC1B,YAAA,OAAO,EAAE;QACX;AAEA,QAAA,cAAc,CAAC,OAAO,CAAC,aAAa,IAAG;AACrC,YAAA,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,QAAA,CAAC,CAAC;QAEF,OAAO,CAAC,MAAM,CAAC;AACjB,IAAA,CAAC;AACH;AAEM,SAAU,aAAa,CAAC,OAAgB,EAAA;IAC5C,MAAM,KAAK,GAAG,CAAC,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,CAAC;IAElE,OAAO;AACL,QAAA,KAAK,EAAE,UAAU;AACjB,QAAA,OAAO,EAAE;AACP,YAAA,KAAK,EAAE,MAAM;AACb,YAAA,IAAI,EAAE,MAAM;AACZ,YAAA,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC;AAC9B,SAAA;QACD,OAAO,EAAE,CAAC,GAAG,cAAc,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;KACjD;AACH;;;;"}